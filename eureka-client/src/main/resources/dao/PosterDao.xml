<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.suyou.eurekaclient.dao.PosterDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="com.suyou.eurekaclient.entity.PosterEntity" id="posterMap">
        <result property="id" column="id"/>
        <result property="name" column="name"/>
        <result property="type" column="type"/>
        <result property="title" column="title"/>
        <result property="content" column="content"/>
        <result property="styleId" column="style_id"/>
        <result property="state" column="state"/>
        <result property="imageUrl" column="image_url"/>
        <result property="createdBy" column="created_by"/>
        <result property="birthdayPerson" column="birthday_person"/>
        <result property="awardTo" column="award_to"/>
        <result property="remindBeford" column="remind_beford"/>
        <result property="pictures" column="pictures"/>
        <result property="remind" column="remind"/>
        <result property="startDate" column="start_date"/>
        <result property="endDate" column="ent_date"/>
        <result property="createdDate" column="created_date"/>
        <result property="updatedDate" column="updated_date"/>
    </resultMap>

    <select id="getByOpenIdAndType" resultMap="posterMap">
SELECT
	*
FROM
	tb_poster
WHERE
	id IN (
		SELECT
			poster_id
		FROM
			tb_poster_participant
		WHERE
			open_id = #{openId}
		AND type = #{type}
	);
</select>
</mapper>